<!DOCTYPE html>
<html
        lang="ko"
        xmlns:th="http://www.thymeleaf.org"
>
<head>
  <div th:replace="~{fragment/topMenu.html::header}"></div>
  <title>NADA 비밀번호 초기화</title>
</head>
<body class="">
<header th:insert="~{fragment/topMenu.html::nav}"></header>
<div id="container">
  <!-- login Box -->
  <div class="login-box">
    <div class="BoxTitle">
      <span class="logo-text">R E S E T<br> P A S S W O R D</span>
    </div>

    <form th:action="@{/user/reset_password}" th:method="put">
      <input type="hidden" id="username" name="username" th:value="${username}"/>
      <div class="form-group">
        <label>PW</label>
        <input
                type="password"
                name="password"
                id="password"
                class="form-control"
                required
        />
      </div>
      <div class="form-group">
        <label>PW Check</label>
        <input
                type="password"
                name="member_password_check"
                id="member_password_check"
                class="form-control"
                autocomplete="off"
        />
      </div>
      <label id="passwordCheckLabel"></label>
      <div id="login-btn-box">
        <input
                type="submit"
                id="passwordChangeBtn"
                value="변경"
                class="btn customBtn btn-right"
        />
      </div>
    </form>

  </div>
</div>
<!-- login Box //-->
</div>


<footer th:replace="~{fragment/footer.html::footer}"></footer>
<script>


  $(function () {
    console.log($('#username').val());
    $('#member_password_check').blur(function () {
      const member_password = $("#password").val();
      //비밀번호의 값
      const member_password_check = $("#member_password_check").val();
      //비밀번호 확인의 값
      console.log(member_password);
      console.log(member_password_check);
      if (member_password === member_password_check) {

        $("#passwordCheckLabel").html("비밀번호가 일치합니다.");
        $("#passwordCheckLabel").css("color", "green");
        $("#passwordChangeBtn").removeAttr('disabled')
      } else {

        $("#passwordCheckLabel").html("비밀번호가 일치하지 않습니다..");
        $("#passwordCheckLabel").css("color", "red");
        $("#passwordChangeBtn").attr('disabled','disabled')
      }
    });
    $('#password').blur(function () {
      const member_password = $("#password").val();
      //비밀번호의 값
      const member_password_check = $("#member_password_check").val();
      //비밀번호 확인의 값
      console.log(member_password);
      console.log(member_password_check);
      if (member_password === member_password_check) {

        $("#passwordCheckLabel").html("비밀번호가 일치합니다.");
        $("#passwordCheckLabel").css("color", "green");
        $("#passwordChangeBtn").removeAttr('disabled')
      } else {

        $("#passwordCheckLabel").html("비밀번호가 일치하지 않습니다..");
        $("#passwordCheckLabel").css("color", "red");
        $("#passwordChangeBtn").attr('disabled','disabled')

      }
    });
  });
</script>
</body>
</html>